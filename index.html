<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyRPGLife 3 - Lunalis ðŸŒ™</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Header avec stats principales -->
        <header class="main-header">
            <div class="header-content">
                <div class="logo-section">
                    <h1 class="app-title">MyRPGLife 3</h1>
                    <span class="subtitle">Lunalis ðŸŒ™</span>
                </div>
                <div class="stats-overview">
                    <div class="stat-item">
                        <span class="stat-label">XP Total</span>
                        <span class="stat-value" id="totalXP">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">XP Aujourd'hui</span>
                        <span class="stat-value" id="dailyXP">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Streak</span>
                        <span class="stat-value" id="streak">0</span>
                    </div>
                </div>
                <div class="user-profile">
                    <div class="avatar-container" id="avatarContainer">
                        <div class="avatar-image" id="avatarImage"></div>
                        <div class="rank-badge" id="rankBadge">E</div>
                    </div>
                    <div class="user-info">
                        <div class="username">Joueur</div>
                        <div class="rank-title" id="rankTitle">Novice</div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation principale -->
        <nav class="main-nav">
            <button class="nav-btn active" data-section="dashboard">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </button>
            <button class="nav-btn" data-section="focus">
                <i class="fas fa-bullseye"></i>
                <span>Focus</span>
            </button>
            <button class="nav-btn" data-section="activities">
                <i class="fas fa-dumbbell"></i>
                <span>ActivitÃ©s</span>
            </button>
            <button class="nav-btn" data-section="achievements">
                <i class="fas fa-trophy"></i>
                <span>SuccÃ¨s</span>
            </button>
            <button class="nav-btn" data-section="progression">
                <i class="fas fa-chart-line"></i>
                <span>Progression</span>
            </button>
            <button class="nav-btn" data-section="projects">
                <i class="fas fa-folder-open"></i>
                <span>Projets</span>
            </button>
            <button class="nav-btn" data-section="settings">
                <i class="fas fa-cog"></i>
                <span>ParamÃ¨tres</span>
            </button>
        </nav>

        <!-- Contenu principal -->
        <main class="main-content">
            <!-- Dashboard -->
            <section id="dashboard" class="content-section active">
                <div class="dashboard-grid">
                    <div class="dashboard-card rank-card">
                        <h3>Rang Actuel</h3>
                        <div class="rank-display">
                            <div class="rank-avatar" id="dashboardAvatar"></div>
                            <div class="rank-info">
                                <div class="rank-name" id="dashboardRankName">PaumÃ©</div>
                                <div class="rank-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="rankProgress"></div>
                                    </div>
                                    <span class="progress-text" id="rankProgressText">0/100 XP</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-card daily-goals">
                        <h3>Objectifs Quotidiens</h3>
                        <div class="goals-list">
                            <div class="goal-item">
                                <span class="goal-icon">ðŸŽ¯</span>
                                <span class="goal-text">2 blocs focus obligatoires</span>
                                <span class="goal-status" id="mandatoryFocusStatus">0/2</span>
                            </div>
                            <div class="goal-item">
                                <span class="goal-icon">âš¡</span>
                                <span class="goal-text">15 XP minimum</span>
                                <span class="goal-status" id="dailyXPGoal">0/15</span>
                            </div>
                            <div class="goal-item">
                                <span class="goal-icon">ðŸ’ª</span>
                                <span class="goal-text">50 min de sport</span>
                                <span class="goal-status" id="sportGoal">0/50</span>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-card intensity-card">
                        <h3>Taux d'IntensitÃ©</h3>
                        <div class="intensity-display">
                            <div class="intensity-circle">
                                <svg class="intensity-svg" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="45" class="intensity-bg"></circle>
                                    <circle cx="50" cy="50" r="45" class="intensity-fill" id="intensityCircle"></circle>
                                </svg>
                                <div class="intensity-text">
                                    <span class="intensity-value" id="intensityValue">0%</span>
                                    <span class="intensity-label" id="intensityLabel">Errant du NÃ©ant</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-card recent-activity">
                        <h3>ActivitÃ© RÃ©cente</h3>
                        <div class="activity-list" id="recentActivityList">
                            <div class="activity-item">
                                <span class="activity-icon">ðŸŽ¯</span>
                                <span class="activity-text">Aucune activitÃ© rÃ©cente</span>
                                <span class="activity-time">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section Focus -->
            <section id="focus" class="content-section">
                <div class="focus-container">
                    <div class="timer-section">
                        <div class="timer-controls">
                            <h2>Session Focus</h2>
                            <div class="timer-settings">
                                <label for="focusDuration">DurÃ©e (minutes):</label>
                                <input type="range" id="focusDuration" min="15" max="120" value="25" step="5">
                                <span id="durationDisplay">25 min</span>
                            </div>
                            <div class="project-selection">
                                <label for="projectSelect">Projet :</label>
                                <select id="projectSelect">
                                    <option value="">Aucun</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="timer-display">
                            <div class="circular-timer">
                                <svg class="timer-svg" viewBox="0 0 200 200">
                                    <circle cx="100" cy="100" r="90" class="timer-bg"></circle>
                                    <circle cx="100" cy="100" r="90" class="timer-progress" id="timerProgress"></circle>
                                </svg>
                                <div class="timer-content">
                                    <div class="timer-time" id="timerTime">25:00</div>
                                    <div class="timer-status" id="timerStatus">PrÃªt</div>
                                    <div class="xp-preview" id="xpPreview">+0 XP</div>
                                </div>
                            </div>
                        </div>

                        <div class="timer-buttons">
                            <button id="startPauseBtn" class="timer-btn primary">
                                <i class="fas fa-play"></i>
                                <span>DÃ©marrer</span>
                            </button>
                            <button id="resetBtn" class="timer-btn secondary">
                                <i class="fas fa-stop"></i>
                                <span>Reset</span>
                            </button>
                        </div>

                        <div class="focus-options">
                            <div class="option-item">
                                <input type="checkbox" id="autoBreaks" checked>
                                <label for="autoBreaks">Pauses automatiques (5 min / 25 min)</label>
                            </div>
                            <div class="option-item">
                                <input type="checkbox" id="spotifyIntegration">
                                <label for="spotifyIntegration">Lancer Spotify</label>
                            </div>
                        </div>
                    </div>

                    <div class="focus-stats">
                        <h3>Statistiques Focus</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-number" id="totalSessions">0</div>
                                <div class="stat-label">Sessions Total</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="todaySessions">0</div>
                                <div class="stat-label">Aujourd'hui</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="totalFocusTime">0h</div>
                                <div class="stat-label">Temps Total</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="mandatoryCompleted">0/2</div>
                                <div class="stat-label">Blocs Obligatoires</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section ActivitÃ©s -->
            <section id="activities" class="content-section">
                <div class="activities-container">
                    <h2>Tracker d'ActivitÃ©s</h2>
                    
                    <div class="activity-cards">
                        <div class="activity-card sport-card">
                            <h3><i class="fas fa-dumbbell"></i> Sport</h3>
                            <div class="activity-input">
                                <label for="sportMinutes">Minutes d'activitÃ©:</label>
                                <input type="number" id="sportMinutes" min="0" max="300" placeholder="0">
                                <button onclick="app.logSport()" class="log-btn">Logger</button>
                            </div>
                            <div class="activity-info">
                                <p>â‰¥50 min = +3 XP</p>
                                <p>Aujourd'hui: <span id="todaySport">0 min</span></p>
                            </div>
                        </div>

                        <div class="activity-card sleep-card">
                            <h3><i class="fas fa-bed"></i> Sommeil</h3>
                            <div class="activity-input">
                                <label for="sleepHours">Heures de sommeil:</label>
                                <input type="number" id="sleepHours" min="0" max="12" step="0.5" placeholder="0">
                                <label for="bedTime">Heure de coucher:</label>
                                <select id="bedTime">
                                    <option value="before22">Avant 22h (+2 XP)</option>
                                    <option value="before24">Avant minuit (+1 XP)</option>
                                    <option value="after24">AprÃ¨s minuit (0 XP)</option>
                                </select>
                                <button onclick="app.logSleep()" class="log-btn">Logger</button>
                            </div>
                            <div class="activity-info">
                                <p>>7h + avant 22h = +2 XP</p>
                                <p>>7h + avant minuit = +1 XP</p>
                                <p><8h = -1 XP</p>
                            </div>
                        </div>

                        <div class="activity-card distraction-card">
                            <h3><i class="fas fa-mobile-alt"></i> Distractions</h3>
                            <div class="activity-input">
                                <label for="instaTime">Instagram (heures):</label>
                                <input type="number" id="instaTime" min="0" max="10" step="0.5" placeholder="0">
                                <label for="musicTime">Musique (heures):</label>
                                <input type="number" id="musicTime" min="0" max="10" step="0.5" placeholder="0">
                                <button onclick="app.logDistractions()" class="log-btn warning">Logger</button>
                            </div>
                            <div class="activity-info">
                                <p>+1h Instagram = -3 XP</p>
                                <p>+1h30 Musique = -5 XP</p>
                            </div>
                        </div>
                    </div>

                    <div class="weekly-review">
                        <h3>Bilan Hebdomadaire</h3>
                        <button onclick="app.showWeeklyReview()" class="review-btn">
                            <i class="fas fa-clipboard-list"></i>
                            Faire le bilan de la semaine
                        </button>
                        <div class="last-review" id="lastReviewInfo">
                            <p>Dernier bilan: Aucun</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section SuccÃ¨s -->
            <section id="achievements" class="content-section">
                <div class="achievements-container">
                    <h2>Accomplissements</h2>
                    <div class="achievements-content" id="achievementsContent">
                        <!-- Contenu gÃ©nÃ©rÃ© dynamiquement -->
                    </div>
                </div>
            </section>

            <!-- Section Progression -->
            <section id="progression" class="content-section">
                <div class="progression-container">
                    <h2>Progression & Statistiques</h2>
                    <button onclick="app.showRankList()" class="rank-btn">Rangs et Titres</button>
                    <div class="progression-content" id="progressionContent">
                        <!-- Contenu gÃ©nÃ©rÃ© dynamiquement -->
                    </div>
                </div>
            </section>

            <!-- Section Projets -->
            <section id="projects" class="content-section">
                <div class="projects-container">
                    <h2>Gestion de Projets</h2>
                    <div class="project-add">
                        <input type="text" id="newProjectName" placeholder="Nom du projet">
                        <button id="addProjectBtn">Ajouter</button>
                    </div>
                    <ul class="project-list" id="projectList"></ul>
                </div>
            </section>

            <!-- Section ParamÃ¨tres -->
            <section id="settings" class="content-section">
                <div class="settings-container">
                    <h2>ParamÃ¨tres</h2>
                    <div class="settings-content">
                        <div class="setting-group">
                            <h3>Comptes ConnectÃ©s</h3>
                            <div class="setting-item">
                                <label>Spotify</label>
                                <button onclick="app.toggleSpotify()" class="toggle-btn" id="spotifyToggle">Se connecter</button>
                            </div>
                            <div class="setting-item">
                                <label>Google Calendar</label>
                                <button onclick="app.toggleGoogle()" class="toggle-btn" id="googleToggle">Se connecter</button>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <h3>DonnÃ©es</h3>
                            <div class="setting-item">
                                <button onclick="app.exportData()" class="action-btn">Exporter les donnÃ©es</button>
                                <button onclick="app.resetData()" class="action-btn danger">Reset complet</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modales et overlays -->
    <div id="modalOverlay" class="modal-overlay"></div>
    
    <!-- Notifications -->
    <div id="notificationContainer" class="notification-container"></div>

    <!-- Scripts -->
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="script.js"></script>
</body>
</html>